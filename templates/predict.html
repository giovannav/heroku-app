<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.2/dist/leaflet.css"
    integrity="sha256-sA+zWATbFveLLNqWO2gtiw3HL/lh1giY/Inf1BJ0z14=" crossorigin="" />

  <!-- Make sure you put this AFTER Leaflet's CSS -->
  <script src="https://unpkg.com/leaflet@1.9.2/dist/leaflet.js"
    integrity="sha256-o9N1jGDZrf5tS+Ft4gbIK7mYMipq9lqpVJ91xHSyKhg=" crossorigin=""></script>
  <title>Result</title>
  <style>
    body {
      background-color: rgb(255, 255, 255);
    }

    img {
      margin: 0%;
    }

    #description {
      margin: 5%;
    }

    #map { height: 200px; width: 200px;}
  </style>
</head>

<body onload="javascript:load_map()">
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup"
      aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
      <div class="navbar-nav">
        <a class="nav-item nav-link active" href="/home2">Inicío<span class="sr-only">(current)</span></a>
        <a class="nav-item nav-link" href="/logout">Sair</a>
      </div>
    </div>
  </nav>
  <!-- <section>
    <div class="container">
      <div class="row d-flex align-items-center vh-100">
        <div class="col-lg-12 col-xl-11">
          <div class="card text-black" style="border-radius: 25px;">
            <div class="card-body p-md-5">
              <h3>{{ posts['image_name'] }}</h3></br>
              <h5>Data de upload: {{ posts['date_upload'] }}</h5></br>
               <h3>{{ posts['image_name'] }}</h3></br>
                            <div class="row justify-content-center">
                                <label for="original">Original</label>
                                <img src="/{{ posts['image_path'] }}" name="orignal" id="original" alt="">
                                <label for="mask">Mask</label>
                                <img src="/{{ posts['mask_path'] }}" name="mask" id="mask" alt="">
                                <label for="mask">Result</label>
                                <img src="/{{ posts['result_path'] }}" name="mask" id="mask" alt="">
                            </div> -->
              <!-- <div class="card-deck">
                <div class="card">
                  <div class="card-body">
                    <h5 class="card-title">Original</h5>
                    <img src="/{{ posts['image_path'] }}" name="orignal" id="original" alt="">
                  </div>
                </div>
                <div class="card">
                  <div class="card-body">
                    <h5 class="card-title">Mask</h5>
                    <img src="/{{ posts['mask_path'] }}" name="mask" id="mask" alt="">
                  </div>
                </div>
                <div class="card">
                  <div class="card-body">
                    <h5 class="card-title">Result</h5>
                    <img src="/{{ posts['result_path'] }}" name="mask" id="mask" alt="">
                  </div>
                </div>
                <div class="card">
                  <div class="card-body">
                    <h5 class="card-title">Map</h5>
                    <div id="map"></div>
                  </div>
                </div>
              </div>
              <p class="text-justify" id="description">{{ posts['description'] }}</p>
              <p class="text-justify" id="description">Porcentagem de área própria: {{ posts['proper_area'] }}%</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section> -->

  <section>
    <div class="container">
      <div class="row d-flex align-items-center vh-100">
        <div class="col-lg-12 col-xl-11">
          <div class="card text-black" style="border-radius: 25px;">
            <div class="card-body p-md-5">            
              <h3>{{ posts['image_name'] }}</h3></br>
              <h5>Data de upload: {{ posts['date_upload'] }}</h5></br>
              <div class="card-deck">
                <div class="card">
                  <div class="card-body">
                    <h5 class="card-title">Original</h5>
                    <img src="/{{ posts['image_path'] }}" name="orignal" id="original" alt="">
                  </div>
                </div>
                <div class="card">
                  <div class="card-body">
                    <h5 class="card-title">Mask</h5>
                    <img src="/{{ posts['mask_path'] }}" name="mask" id="mask" alt="">
                  </div>
                </div>
                <div class="card">
                  <div class="card-body">
                    <h5 class="card-title">Result</h5>
                    <img src="/{{ posts['result_path'] }}" name="mask" id="mask" alt="">
                  </div>
                </div>
                <div class="card">
                  <div class="card-body">
                    <h5 class="card-title">Map</h5>
                    <div id="map"></div>
                  </div>
                </div>
              </div>
              <p class="text-justify" id="description">{{ posts['description'] }}</p>
              <p class="text-justify" id="description">Porcentagem de área própria: {{ posts['proper_area'] }}%</p>
              <p id="polygon" name="polygon">2</p>
              <p class="text-justify" id="description">Porcentagem de área própria: {{ posts['polygon'] }}%</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>


  <script>

    var element = [[-121.6406250000061, 37.96155714945135], [-121.6406250000061, 37.9961626797281], [-121.6845703125, 37.9961626797281], [-121.6845703125, 37.96155714945135], [-121.6406250000061, 37.96155714945135]];//{{ posts['polygon'] }};
    function load_map(){
      
      console.log(typeof element[0]);
      var osmUrl = 'http://{s}.tile.osm.org/{z}/{x}/{y}.png',
        osmAttrib = '&copy; <a href="http://openstreetmap.org/copyright">OpenStreetMap</a> contributors',
        osm = L.tileLayer(osmUrl, {
          maxZoom: 18,
          attribution: osmAttrib
        });

      // initialize the map on the "map" div with a given center and zoom
      var map = L.map('map').setView([41.00, -109.05], 20).addLayer(osm);

      var latlngs = [[-109.05, 41.00],
            [-102.06, 40.99],
            [-102.03, 36.99],
            [-109.04, 36.99],
            [-109.05, 41.00]];
      
      const reversedMultiPolygons = multiPolygons.map(polygon => polygon.map(v => [v[1], v[0]]))
      console.log(reversedMultiPolygons);
      var polygon = L.polygon(reversedMultiPolygons, { color: 'red' }).addTo(map);
    }
  </script>
  <!-- <footer class="footer" style="background-color: #282828;">
        <div class="text-center p-3" style="background-color: #282828; color: azure;">
            © 2022 Copyright:
        </div>
    </footer> -->
</body>

</html>